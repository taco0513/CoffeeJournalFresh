# ☕ Coffee Tasting Journal - 상세 User Flow (HIG 적용)

## 🎯 앱의 목적
"나 혼자 커피를 즐기는 걸 넘어서, 전문가·친구들이 느낀 감각의 세계를 배우고, 내 미각 언어를 키워가는 소셜 테이스팅 앱"

## 🍎 HIG 준수 사항
- **최소 터치 영역**: 모든 버튼 44×44pt 이상
- **텍스트 크기**: 최소 11pt, Dynamic Type 지원
- **대비율**: 배경/텍스트 4.5:1 이상
- **피드백**: 모든 액션에 시각적/햅틱 피드백
- **네비게이션**: iOS 표준 탭바 + 네비게이션바 사용
- **폰트**: iOS 네이티브 시스템 폰트 사용 (fontFamily 지정 안 함)

---

## 📱 앱 구조 (HIG 기반)

### 🔷 탭바 구조 (하단 고정)
```
┌─────┬─────┬─────┬─────┬─────┐
│ 홈  │ 새  │커뮤니티│기록 │프로필│
│ 🏠  │ ➕  │ 👥  │ 📚  │ 👤  │
└─────┴─────┴─────┴─────┴─────┘
```
- **아이콘 크기**: 30×30pt
- **레이블**: 시스템 폰트 10pt
- **선택 시**: 시스템 틴트 컬러 + 햅틱 피드백

---

## 📋 6단계 테이스팅 기록 프로세스 (HIG 적용)

### 🏠 Step 1: 홈 화면
**HIG 적용 사항:**
- **네비게이션바**: "Coffee Journal" 타이틀 (시스템 폰트 17pt Bold)
- **CTA 버튼**: 높이 50pt, 코너 반경 25pt
- **리스트 셀**: 높이 최소 60pt, 좌우 패딩 20pt

**화면 요소:**
```
┌─────────────────────────┐
│    Coffee Journal       │ ← 네비게이션바
├─────────────────────────┤
│                         │
│    오늘의 커피는?        │ ← 시스템 폰트 28pt (fontWeight: '700')
│                         │
│  ┌─────────────────┐   │
│  │ 새 테이스팅 시작  │   │ ← 50pt 높이, 틴트 컬러
│  └─────────────────┘   │
│                         │
│  🏆 Level 5 • 12일 연속  │ ← 게이미피케이션 상태
│  ⚡️ 이번 주 챌린지: 산미 구분│
│                         │
│  최근 기록              │ ← 시스템 폰트 15pt (fontWeight: '600')
│  ┌─────────────────┐   │
│  │ ☕ 에티오피아     │   │ ← 60pt 높이 셀
│  │    85% 매칭      │   │
│  │    👥 87명도 마심  │   │ ← 커뮤니티 지표
│  └─────────────────┘   │
└─────────────────────────┘
```

---

### ☕ Step 2: 커피 정보 입력
**HIG 적용 사항:**
- **텍스트 필드**: 높이 44pt, 좌측 패딩 16pt
- **드롭다운**: SF Symbol "chevron.down" 사용
- **진행 표시**: 상단 Progress Bar (높이 4pt)
- **권한 요청**: 카메라/위치는 사용 직전에 요청

**화면 레이아웃:**
```
┌─────────────────────────┐
│ ← 뒤로  커피 정보   2/6 │ ← 네비게이션바 + 진행상황
├─────────────────────────┤
│ ━━━━━━━━━━━━━━━━━━━━━━━ │ ← Progress Bar
│                         │
│ 📍 현재 위치: 스타벅스    │ ← 위치 자동 감지
│                         │
│ 카페 이름               │ ← 레이블 13pt
│ ┌─────────────────┐    │
│ │ 스타벅스 강남점   ▼│    │ ← 44pt 높이
│ └─────────────────┘    │
│                         │
│ 로스터리 * (필수)        │
│ ┌─────────────────┐    │
│ │ Blue Bottle     ▼│    │ ← 커뮤니티 DB 자동완성
│ └─────────────────┘    │
│                         │
│ 💡 커뮤니티가 추가한 커피 │
│                         │
│ 📷 패키지 촬영하기       │ ← OCR 버튼 (44×44pt)
│                         │
│ ┌─────────────────┐    │
│ │      다음        │    │ ← 비활성 시 회색
│ └─────────────────┘    │
└─────────────────────────┘
```

**스마트 입력 지원:**
- OCR 버튼 탭 → 카메라 권한 요청 → 촬영 → 자동 입력
- 각 필드 포커스 시 키보드 위 자동완성 제안 (iOS QuickType 영역)

---

### 📝 Step 3: 로스터의 컵 노트 입력
**HIG 적용 사항:**
- **텍스트뷰**: 최소 높이 120pt, 내부 패딩 12pt
- **플레이스홀더**: 회색 (#8E8E93)
- **건너뛰기**: 우상단 버튼 (터치 영역 44×44pt)

**화면 구성:**
```
┌─────────────────────────┐
│ ← 뒤로  로스터 노트  3/6 │
├─────────────────────────┤
│                         │
│ 공식 로스터 노트         │
│ ┌─────────────────┐    │
│ │ "블루베리, 다크   │    │
│ │ 초콜릿, 와인같은  │    │ ← 텍스트뷰
│ │ 산미"           │    │
│ └─────────────────┘    │
│                         │
│ 📝 공식 노트 불러오기    │ ← 커뮤니티 DB에서
│                         │
│ ✅ 커뮤니티와 공유하기    │ ← 토글 스위치
│                         │
└─────────────────────────┘
```

---

### 👅 Step 4: 맛(Flavor) 노트 - HIG 멀티선택
**HIG 적용 사항:**
- **그리드 아이템**: 최소 60×60pt (실제 콘텐츠는 44×44pt)
- **선택 표시**: 색상 + 체크마크 (SF Symbol "checkmark.circle.fill")
- **그룹 간격**: 섹션 간 24pt
- **햅틱**: 선택/해제 시 가벼운 햅틱

**Level 1 - Category 화면:**
```
┌─────────────────────────┐
│ ← 뒤로   맛 선택    4/6 │
├─────────────────────────┤
│                         │
│ 느껴지는 맛을 모두      │
│ 선택하세요 (필수)       │
│                         │
│ ┌─────┬─────┬─────┐   │
│ │Fruity│Sour │Green│   │ ← 60×60pt
│ │ ✓   │     │     │   │
│ ├─────┼─────┼─────┤   │
│ │Other│Roast│Spice│   │
│ │     │ ✓   │     │   │
│ ├─────┼─────┼─────┤   │
│ │Nutty│Sweet│Flora│   │
│ │     │     │     │   │
│ └─────┴─────┴─────┘   │
│                         │
│ 선택: 2개               │ ← 선택 카운터
│                         │
│ ┌─────────────────┐    │
│ │      다음        │    │
│ └─────────────────┘    │
└─────────────────────────┘
```

**선택 상태 표시:**
- 비선택: 흰 배경 + 회색 테두리
- 선택됨: 틴트 컬러 배경 + 흰색 체크마크
- 햅틱: `UIImpactFeedbackGenerator.light()`

---

### 🤖 Step 4.5: AI 매핑 & 코칭 (Phase 2)
**HIG 적용 사항:**
- **모달 카드**: 하단에서 슬라이드업 (iOS 표준)
- **블러 배경**: `UIVisualEffectView` 사용
- **버튼**: 최소 높이 44pt, 좌우 패딩 20pt

```
┌─────────────────────────┐
│ ░░░░░░░░░░░░░░░░░░░░░░░ │ ← 블러 배경
│ ░░░░░░░░░░░░░░░░░░░░░░░ │
│ ┌─────────────────────┐ │
│ │  AI 분석 결과 ✨     │ │ ← 모달 카드
│ │                     │ │
│ │ "요거트" →          │ │
│ │ Other > Fermented > │ │
│ │ Creamy              │ │
│ │                     │ │
│ │ 💡 부드러운 질감에   │ │
│ │    집중해보세요      │ │
│ │                     │ │
│ │ ┌─────────────────┐ │ │
│ │ │  추천 표현 추가   │ │ │ ← Primary 버튼
│ │ └─────────────────┘ │ │
│ │ ┌─────────────────┐ │ │
│ │ │  그대로 진행     │ │ │ ← Secondary 버튼
│ │ └─────────────────┘ │ │
│ └─────────────────────┘ │
└─────────────────────────┘
```

---

### 📊 Step 5: 감각적 특성 평가
**HIG 적용 사항:**
- **슬라이더**: 트랙 높이 4pt, 썸 크기 28×28pt
- **레이블**: 좌우 끝에 설명 텍스트 (11pt)
- **선택 버튼**: 최소 44×44pt, 선택 시 햅틱

**화면 구성:**
```
┌─────────────────────────┐
│ ← 뒤로   감각 평가  5/6 │
├─────────────────────────┤
│                         │
│ Body (바디감)           │
│ 가벼움 ━━━━●━━━ 무거움  │ ← 커스텀 슬라이더
│                         │
│ Acidity (산미)          │
│ 약함 ━━━━━━●━━━ 강함   │
│                         │
│ Mouthfeel (입안 느낌)    │
│ ┌────────┬────────┐    │
│ │ Clean  │ Creamy │    │ ← 선택 버튼 그룹
│ │   ✓    │        │    │
│ ├────────┼────────┤    │
│ │ Juicy  │ Silky  │    │
│ │        │        │    │
│ └────────┴────────┘    │
└─────────────────────────┘
```

---

### 🎯 Step 6: 결과 화면 with 커뮤니티 비교
**HIG 적용 사항:**
- **애니메이션**: 0.4초 이내, 스프링 효과
- **탭 전환**: 세그먼트 컨트롤 사용
- **공유 버튼**: SF Symbol "square.and.arrow.up"

**개인 결과 탭:**
```
┌─────────────────────────┐
│      테이스팅 완료  ✓   │
├─────────────────────────┤
│ [개인 결과|커뮤니티 비교]│ ← 세그먼트 컨트롤
│                         │
│       85% 매칭!         │ ← 숫자 애니메이션
│                         │
│ 로스터 노트             │
│ 블루베리, 다크 초콜릿    │
│                         │
│ 내 테이스팅             │
│ 베리류, 초콜릿 ✓        │
│                         │
│ 🎉 레벨업! Lv.5 → Lv.6  │ ← 게이미피케이션
│                         │
│ 🏆 "산미 구분 마스터"    │ ← 획득 배지
│    배지 획득!           │
└─────────────────────────┘
```

**커뮤니티 비교 탭:**
```
┌─────────────────────────┐
│      테이스팅 완료  ✓   │
├─────────────────────────┤
│ [개인 결과|커뮤니티 비교]│
│                         │
│ 👥 87명이 이 커피를 마심 │
│                         │
│ 커뮤니티 평균 vs 내 점수 │
│ Body:    4.2  vs  4.0   │
│ Acidity: 4.5  vs  4.0   │
│                         │
│ 가장 많이 느낀 맛        │
│ 🫐 블루베리 (65%)       │
│ 🍋 레몬 (52%)          │
│ 🌸 플로럴 (48%)        │
│                         │
│ 내 매칭: 85% vs 평균: 78%│
│                         │
│ 💬 "산미가 정말 독특해요" │
│    - @coffee_lover     │
└─────────────────────────┘
```

---

## 👥 커뮤니티 탭 화면
**HIG 적용 사항:**
- **컬렉션뷰**: iOS 표준 레이아웃 사용
- **리프레시**: Pull-to-refresh 패턴
- **필터**: 세그먼트 컨트롤 또는 scope bar

**화면 구성:**
```
┌─────────────────────────┐
│      커뮤니티          │ ← 네비게이션바
├─────────────────────────┤
│ [트렌딩|팔로잉|챌린지]   │ ← 세그먼트 컨트롤
│                         │
│ 🔥 오늘의 인기 커피      │
│ ┌─────────────────┐    │
│ │ 에티오피아 예가체페   │
│ │ Blue Bottle         │
│ │ 👥 87명 • 평균 82%  │
│ └─────────────────┘    │
│                         │
│ ⚡️ 주간 챌린지          │
│ ┌─────────────────┐    │
│ │ 산미 마스터 도전!    │
│ │ 참여자 234명        │
│ │ 종료까지 3일        │
│ └─────────────────┘    │
│                         │
│ 👑 이번 주 TOP 테이스터  │
│ ┌─────────────────┐    │
│ │ @coffee_master     │
│ │ Level 12 • 정확도 92%│
│ └─────────────────┘    │
└─────────────────────────┘
```

---

## 🏆 프로필 & 성장 화면
**화면 구성:**
```
┌─────────────────────────┐
│       프로필           │
├─────────────────────────┤
│  ┌───────────────┐     │
│  │   사용자 사진   │     │
│  └───────────────┘     │
│                         │
│  @my_coffee_journey    │
│  Level 6 • 커피 탐험가   │
│                         │
│  🏆 획득 배지           │
│  [🎯][☕][🌟][🔥]      │
│                         │
│  📊 나의 성장           │
│  ┌─────────────────┐   │
│  │ 어휘력 성장 그래프 │   │
│  └─────────────────┘   │
│                         │
│  📈 통계               │
│  • 총 테이스팅: 127회   │
│  • 평균 정확도: 82%     │
│  • 강점: 산미 구분      │
│  • 개선점: 바디감 표현   │
└─────────────────────────┘
```

---

## 💾 데이터 저장 흐름 (HIG 피드백)

### 결과 표시
```
저장 중: Activity Indicator (시스템 스타일)
저장 완료: 체크마크 + 햅틱 피드백
저장 실패: 경고 아이콘 + 재시도 버튼
```

### 동기화 표시
- **아이콘**: SF Symbol "icloud.and.arrow.up" 
- **위치**: 네비게이션바 우측
- **애니메이션**: 회전 (동기화 중)

---

## 🎮 게이미피케이션 요소

### 레벨 시스템
```
Level 1: 커피 입문자 (0-10회)
Level 2: 커피 애호가 (11-25회)
Level 3: 플레이버 헌터 (26-50회)
Level 4: 감각 탐험가 (51-100회)
Level 5: 테이스팅 마스터 (101-200회)
...
Level 10: 커피 소믈리에 (1000+회)
```

### 배지 시스템
- 🎯 **정확도 배지**: 90% 이상 매칭 10회
- ☕ **다양성 배지**: 20개 다른 로스터리 시도
- 🌟 **연속 기록**: 7일 연속 테이스팅
- 🔥 **챌린지 우승**: 주간 챌린지 1위
- 👥 **커뮤니티 기여**: 새 커피 10개 추가

### 주간 챌린지 예시
- "산미 구분 마스터": 산미 높은 커피 3종 테이스팅
- "로컬 로스터 탐험": 지역 로스터리 커피 시도
- "플레이버 확장": 새로운 플레이버 5개 발견
- "정확도 챌린지": 85% 이상 매칭 3회

---

## 🤝 소셜 인터랙션

### 팔로우/팔로잉
- 전문가 팔로우로 인사이트 받기
- 친구들과 테이스팅 공유
- 활동 피드에서 업데이트 확인

### 커피 토론
- 특정 커피에 대한 의견 교환
- 테이스팅 노트 댓글
- 질문과 답변 기능

### 멘토링 (Phase 3)
- 초보자-전문가 매칭
- 1:1 피드백 시스템
- 성장 가이드 제공

---

## 🔧 HIG 체크리스트

### 필수 준수 사항
- [x] 모든 터치 대상 44×44pt 이상
- [x] 텍스트 최소 11pt + Dynamic Type
- [x] 색상 대비 4.5:1 이상
- [x] 시스템 폰트 사용 (iOS 네이티브)
- [x] 표준 네비게이션 패턴
- [x] 즉각적인 피드백 제공
- [x] 모션 줄이기 옵션 대응
- [x] 권한 요청 시점 최적화

### 추가 개선 사항
- [x] VoiceOver 접근성 레이블
- [x] 키보드 단축키 지원 (iPad)
- [x] 가로 모드 레이아웃 대응

---

## 📱 디바이스별 대응

### iPhone SE (작은 화면)
- 그리드를 2×4로 조정
- 폰트 크기 1pt 축소 허용

### iPhone Pro Max (큰 화면)
- 그리드를 4×3으로 확장
- 추가 정보 표시 공간 활용

### iPad
- 사이드바 네비게이션 사용
- 멀티태스킹 Split View 지원