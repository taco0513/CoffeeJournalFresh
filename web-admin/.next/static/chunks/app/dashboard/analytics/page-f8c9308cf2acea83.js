(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{16341:(e,s,a)=>{"use strict";a.d(s,{$W:()=>c,jm:()=>o});var t=a(12469),r=a(24343),n=a(2818);let l=t.Ik({NEXT_PUBLIC_SUPABASE_URL:t.Yj().url().min(1,"Supabase URL is required"),NEXT_PUBLIC_SUPABASE_ANON_KEY:t.Yj().min(1,"Supabase anon key is required"),SUPABASE_SERVICE_ROLE_KEY:t.Yj().min(1,"Supabase service role key is required").optional(),NODE_ENV:t.k5(["development","production","test"]).default("development"),NEXT_PUBLIC_APP_URL:t.Yj().url().default("http://localhost:3000"),NEXTAUTH_SECRET:t.Yj().optional(),NEXTAUTH_URL:t.Yj().url().optional(),NEXT_PUBLIC_VERCEL_ANALYTICS_ID:t.Yj().optional(),SENTRY_DSN:t.Yj().optional(),SENTRY_ORG:t.Yj().optional(),SENTRY_PROJECT:t.Yj().optional(),ADMIN_EMAIL:t.Yj().email().default("hello@zimojin.com"),SUPER_ADMIN_EMAILS:t.Yj().default("hello@zimojin.com")}),i=function(){let e={NEXT_PUBLIC_SUPABASE_URL:"https://your-project-id.supabase.co",NEXT_PUBLIC_SUPABASE_ANON_KEY:"your-anon-key-here",SUPABASE_SERVICE_ROLE_KEY:n.env.SUPABASE_SERVICE_ROLE_KEY,NODE_ENV:"production",NEXT_PUBLIC_APP_URL:"https://admin.coffeejournalFresh.com",NEXTAUTH_SECRET:n.env.NEXTAUTH_SECRET,NEXTAUTH_URL:n.env.NEXTAUTH_URL,NEXT_PUBLIC_VERCEL_ANALYTICS_ID:"your-analytics-id",SENTRY_DSN:n.env.SENTRY_DSN,SENTRY_ORG:n.env.SENTRY_ORG,SENTRY_PROJECT:n.env.SENTRY_PROJECT,ADMIN_EMAIL:n.env.ADMIN_EMAIL,SUPER_ADMIN_EMAILS:n.env.SUPER_ADMIN_EMAILS};try{return l.parse(e)}catch(e){if(e instanceof r.G){let s=e.errors.map(e=>"".concat(e.path.join("."),": ").concat(e.message)).join("\n");throw Error("âŒ Environment configuration error:\n".concat(s,"\n\n")+"Please check your .env file and ensure all required variables are set.\nSee .env.example for reference.")}throw e}}();i.NODE_ENV,i.NODE_ENV,i.NODE_ENV;let d=()=>i.SUPER_ADMIN_EMAILS.split(",").map(e=>e.trim()),o=e=>d().includes(e),c={app:{name:"Coffee Journal Admin",version:"1.0.0",url:i.NEXT_PUBLIC_APP_URL,adminEmail:i.ADMIN_EMAIL},supabase:{url:i.NEXT_PUBLIC_SUPABASE_URL,anonKey:i.NEXT_PUBLIC_SUPABASE_ANON_KEY,serviceRoleKey:i.SUPABASE_SERVICE_ROLE_KEY},auth:{secret:i.NEXTAUTH_SECRET,url:i.NEXTAUTH_URL},monitoring:{vercelAnalyticsId:i.NEXT_PUBLIC_VERCEL_ANALYTICS_ID,sentry:{dsn:i.SENTRY_DSN,org:i.SENTRY_ORG,project:i.SENTRY_PROJECT}}}},21567:(e,s,a)=>{"use strict";a.d(s,{cn:()=>n});var t=a(43463),r=a(69795);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}},22130:(e,s,a)=>{"use strict";a.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>i});var t=a(95155),r=a(12115),n=a(21567);let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},37528:(e,s,a)=>{"use strict";a.d(s,{bq:()=>x,eb:()=>f,gC:()=>j,l6:()=>c,yv:()=>m});var t=a(95155),r=a(12115),n=a(91014),l=a(51719),i=a(91902),d=a(98867),o=a(21567);let c=n.bL;n.YJ;let m=n.WT,x=r.forwardRef((e,s)=>{let{className:a,children:r,...i}=e;return(0,t.jsxs)(n.l9,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[r,(0,t.jsx)(n.In,{asChild:!0,children:(0,t.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=n.l9.displayName;let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=n.PP.displayName;let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})});u.displayName=n.wn.displayName;let j=r.forwardRef((e,s)=>{let{className:a,children:r,position:l="popper",...i}=e;return(0,t.jsx)(n.ZL,{children:(0,t.jsxs)(n.UC,{ref:s,className:(0,o.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:[(0,t.jsx)(h,{}),(0,t.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(u,{})]})})});j.displayName=n.UC.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.JU,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=n.JU.displayName;let f=r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(n.q7,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(n.VF,{children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})}),(0,t.jsx)(n.p4,{children:r})]})});f.displayName=n.q7.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=n.wv.displayName},61086:(e,s,a)=>{"use strict";a.d(s,{N:()=>l,U:()=>n});var t=a(88481),r=a(16341);function n(){return(0,t.createBrowserClient)(r.$W.supabase.url,r.$W.supabase.anonKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{"X-Client-Name":"coffee-journal-admin","X-Client-Version":"1.0.0"}}})}let l=n()},67684:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C});var t=a(95155),r=a(12115),n=a(22130),l=a(98217),i=a(21567);let d=l.bL,o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.B8,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});o.displayName=l.B8.displayName;let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.l9,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});c.displayName=l.l9.displayName;let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.UC,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});m.displayName=l.UC.displayName;var x=a(37528),h=a(58581),u=a(94973),j=a(15255),f=a(12800),p=a(66963),y=a(27112),N=a(86354),g=a(16161),b=a(394),_=a(23021),v=a(44556),E=a(90457),S=a(67732),w=a(87648),R=a(90518),k=a(36),T=a(61086),A=a(31621),B=a(88282),P=a(30113);let U=["#8B4513","#CD853F","#DEB887","#F4A460","#D2691E"];function C(){let[e,s]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[i,C]=(0,r.useState)([]),[D,M]=(0,r.useState)([]),[I,L]=(0,r.useState)([]),[W,K]=(0,r.useState)([]),[F,Z]=(0,r.useState)([]),[Y,O]=(0,r.useState)(!0),[X,G]=(0,r.useState)("7d"),[H,V]=(0,r.useState)("Mon"),[q,J]=(0,r.useState)({totalUsers:0,totalSessions:0,avgSessionDuration:0,totalErrors:0,crashRate:0});(0,r.useEffect)(()=>{es()},[]);let z=()=>{let e=[];return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].forEach(s=>{for(let a=0;a<24;a++)e.push({hour:a,day:s,users:Math.floor(50*Math.random())+(a>=9&&a<=21?20:5),events:Math.floor(200*Math.random())+(a>=9&&a<=21?100:20)})}),e},$=()=>[{cohort:"Week 1",day0:100,day1:85,day7:65,day14:45,day30:30},{cohort:"Week 2",day0:120,day1:95,day7:75,day14:55,day30:35},{cohort:"Week 3",day0:140,day1:110,day7:85,day14:60,day30:40},{cohort:"Week 4",day0:160,day1:125,day7:95,day14:70,day30:45}],Q=()=>[{step:"App Opens",users:1e3,retention_rate:100,step_order:1},{step:"Start Coffee Log",users:750,retention_rate:75,step_order:2},{step:"Coffee Info Entry",users:600,retention_rate:60,step_order:3},{step:"Flavor Selection",users:450,retention_rate:45,step_order:4},{step:"Complete Tasting",users:300,retention_rate:30,step_order:5}],ee=()=>{let e=[];for(let s=14;s>=0;s--){let a=(0,A.GP)((0,B.e)(new Date,s),"yyyy-MM-dd");e.push({date:a,coffee_logging:Math.floor(100*Math.random())+50,flavor_selection:Math.floor(80*Math.random())+30,photo_upload:Math.floor(60*Math.random())+20,social_features:Math.floor(40*Math.random())+10,search_usage:Math.floor(70*Math.random())+25})}return e},es=async()=>{try{O(!0);let{data:e,error:a}=await T.N.from("analytics_dashboard").select("*").order("date",{ascending:!0});if(a)throw a;let{data:t,error:r}=await T.N.from("performance_dashboard").select("*").order("date",{ascending:!0});if(r)throw r;let{data:n,error:i}=await T.N.from("analytics_events").select("screen_name").eq("event_type","screen_view").not("screen_name","is",null).gte("timestamp",new Date(Date.now()-6048e5).toISOString());if(i)throw i;let d=n.reduce((e,s)=>(e[s.screen_name]=(e[s.screen_name]||0)+1,e),{}),o=Object.entries(d).map(e=>{let[s,a]=e;return{screen_name:s,view_count:a}}).sort((e,s)=>s.view_count-e.view_count).slice(0,5),{data:c,error:m}=await T.N.from("user_sessions").select("*").gte("start_time",new Date(Date.now()-2592e6).toISOString());if(m)throw m;let x=new Set(c.map(e=>e.user_id).filter(Boolean)).size,h=c.length,u=c.filter(e=>e.duration_ms).reduce((e,s)=>e+(s.duration_ms||0),0)/c.filter(e=>e.duration_ms).length||0,j=c.reduce((e,s)=>e+(s.error_count||0),0),f=c.reduce((e,s)=>e+(s.crash_count||0),0)/h*100;s(e||[]),l(t||[]),C(o),M(z()),L($()),K(Q()),Z(ee()),J({totalUsers:x,totalSessions:h,avgSessionDuration:Math.round(u/1e3),totalErrors:j,crashRate:Math.round(100*f)/100})}catch(e){console.error("Error fetching analytics data:",e)}finally{O(!1)}};return Y?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"text-lg",children:"Loading analytics data..."})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-amber-900",children:"Analytics Dashboard"}),(0,t.jsx)("p",{className:"text-amber-700 mt-2",children:"User behavior and app performance insights"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,t.jsxs)(n.Zp,{className:"bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200",children:[(0,t.jsx)(n.aR,{className:"pb-2",children:(0,t.jsx)(n.ZB,{className:"text-sm font-medium text-amber-700",children:"Total Users"})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-amber-900",children:q.totalUsers}),(0,t.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"Last 30 days"})]})]}),(0,t.jsxs)(n.Zp,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:[(0,t.jsx)(n.aR,{className:"pb-2",children:(0,t.jsx)(n.ZB,{className:"text-sm font-medium text-orange-700",children:"Total Sessions"})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-900",children:q.totalSessions}),(0,t.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:"Last 30 days"})]})]}),(0,t.jsxs)(n.Zp,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:[(0,t.jsx)(n.aR,{className:"pb-2",children:(0,t.jsx)(n.ZB,{className:"text-sm font-medium text-yellow-700",children:"Avg Session"})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-yellow-900",children:[q.avgSessionDuration,"s"]}),(0,t.jsx)("p",{className:"text-xs text-yellow-600 mt-1",children:"Duration"})]})]}),(0,t.jsxs)(n.Zp,{className:"bg-gradient-to-br from-red-50 to-red-100 border-red-200",children:[(0,t.jsx)(n.aR,{className:"pb-2",children:(0,t.jsx)(n.ZB,{className:"text-sm font-medium text-red-700",children:"Total Errors"})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-900",children:q.totalErrors}),(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Last 30 days"})]})]}),(0,t.jsxs)(n.Zp,{className:"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200",children:[(0,t.jsx)(n.aR,{className:"pb-2",children:(0,t.jsx)(n.ZB,{className:"text-sm font-medium text-gray-700",children:"Crash Rate"})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[q.crashRate,"%"]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Per session"})]})]})]}),(0,t.jsxs)(d,{defaultValue:"usage",className:"space-y-4",children:[(0,t.jsxs)(o,{className:"grid w-full grid-cols-5",children:[(0,t.jsx)(c,{value:"usage",children:"User Engagement"}),(0,t.jsx)(c,{value:"performance",children:"Performance"}),(0,t.jsx)(c,{value:"screens",children:"Screen Analytics"}),(0,t.jsx)(c,{value:"advanced",children:"Advanced Insights"}),(0,t.jsx)(c,{value:"funnel",children:"User Journey"})]}),(0,t.jsx)(m,{value:"usage",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-amber-900",children:"Daily User Activity"}),(0,t.jsx)(n.BT,{children:"Events and unique users over time"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(h.u,{width:"100%",height:300,children:(0,t.jsxs)(u.b,{data:e,children:[(0,t.jsx)(j.d,{strokeDasharray:"3 3"}),(0,t.jsx)(f.W,{dataKey:"date",tickFormatter:e=>(0,A.GP)((0,P.H)(e),"MMM dd")}),(0,t.jsx)(p.h,{}),(0,t.jsx)(y.m,{labelFormatter:e=>(0,A.GP)((0,P.H)(e),"PPP")}),(0,t.jsx)(N.s,{}),(0,t.jsx)(g.N,{type:"monotone",dataKey:"unique_users",stroke:"#8B4513",strokeWidth:2,name:"Unique Users"}),(0,t.jsx)(g.N,{type:"monotone",dataKey:"total_events",stroke:"#CD853F",strokeWidth:2,name:"Total Events"})]})})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-amber-900",children:"Event Types Distribution"}),(0,t.jsx)(n.BT,{children:"Breakdown of user interactions"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(h.u,{width:"100%",height:300,children:(0,t.jsxs)(b.E,{data:e.slice(-7),children:[(0,t.jsx)(j.d,{strokeDasharray:"3 3"}),(0,t.jsx)(f.W,{dataKey:"date",tickFormatter:e=>(0,A.GP)((0,P.H)(e),"MM/dd")}),(0,t.jsx)(p.h,{}),(0,t.jsx)(y.m,{labelFormatter:e=>(0,A.GP)((0,P.H)(e),"PPP")}),(0,t.jsx)(N.s,{}),(0,t.jsx)(_.y,{dataKey:"screen_views",stackId:"a",fill:"#8B4513",name:"Screen Views"}),(0,t.jsx)(_.y,{dataKey:"button_clicks",stackId:"a",fill:"#CD853F",name:"Button Clicks"}),(0,t.jsx)(_.y,{dataKey:"feature_uses",stackId:"a",fill:"#DEB887",name:"Feature Uses"}),(0,t.jsx)(_.y,{dataKey:"errors",stackId:"a",fill:"#DC2626",name:"Errors"})]})})})]})]})}),(0,t.jsx)(m,{value:"performance",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-amber-900",children:"Performance Metrics"}),(0,t.jsx)(n.BT,{children:"Average response times and performance"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(h.u,{width:"100%",height:300,children:(0,t.jsxs)(u.b,{data:a,children:[(0,t.jsx)(j.d,{strokeDasharray:"3 3"}),(0,t.jsx)(f.W,{dataKey:"date",tickFormatter:e=>(0,A.GP)((0,P.H)(e),"MMM dd")}),(0,t.jsx)(p.h,{}),(0,t.jsx)(y.m,{labelFormatter:e=>(0,A.GP)((0,P.H)(e),"PPP"),formatter:(e,s)=>["".concat(Math.round(e),"ms"),s]}),(0,t.jsx)(N.s,{}),(0,t.jsx)(g.N,{type:"monotone",dataKey:"avg_performance_ms",stroke:"#8B4513",strokeWidth:2,name:"App Performance"}),(0,t.jsx)(g.N,{type:"monotone",dataKey:"avg_network_ms",stroke:"#CD853F",strokeWidth:2,name:"Network Requests"})]})})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-amber-900",children:"Error & Crash Tracking"}),(0,t.jsx)(n.BT,{children:"App stability metrics"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(h.u,{width:"100%",height:300,children:(0,t.jsxs)(b.E,{data:a.slice(-7),children:[(0,t.jsx)(j.d,{strokeDasharray:"3 3"}),(0,t.jsx)(f.W,{dataKey:"date",tickFormatter:e=>(0,A.GP)((0,P.H)(e),"MM/dd")}),(0,t.jsx)(p.h,{}),(0,t.jsx)(y.m,{labelFormatter:e=>(0,A.GP)((0,P.H)(e),"PPP")}),(0,t.jsx)(N.s,{}),(0,t.jsx)(_.y,{dataKey:"errors",fill:"#F59E0B",name:"Errors"}),(0,t.jsx)(_.y,{dataKey:"crashes",fill:"#DC2626",name:"Crashes"}),(0,t.jsx)(_.y,{dataKey:"memory_warnings",fill:"#6B7280",name:"Memory Warnings"})]})})})]})]})}),(0,t.jsx)(m,{value:"screens",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-amber-900",children:"Popular Screens"}),(0,t.jsx)(n.BT,{children:"Most visited screens (last 7 days)"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(h.u,{width:"100%",height:300,children:(0,t.jsxs)(v.r,{children:[(0,t.jsx)(E.F,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{screen_name:s,percent:a}=e;return"".concat(s," ").concat((100*a).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"view_count",children:i.map((e,s)=>(0,t.jsx)(S.f,{fill:U[s%U.length]},"cell-".concat(s)))}),(0,t.jsx)(y.m,{formatter:e=>["".concat(e," views"),"Screen Views"]})]})})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-amber-900",children:"Screen Navigation Flow"}),(0,t.jsx)(n.BT,{children:"User journey through the app"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:i.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-amber-200 rounded-full flex items-center justify-center text-sm font-medium text-amber-800",children:s+1}),(0,t.jsx)("span",{className:"font-medium text-amber-900",children:e.screen_name})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-amber-900",children:e.view_count}),(0,t.jsx)("div",{className:"text-xs text-amber-600",children:"views"})]})]},e.screen_name))})})]})]})}),(0,t.jsx)(m,{value:"advanced",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-amber-900",children:"Activity Heatmap"}),(0,t.jsx)(n.BT,{children:"User activity by hour and day of week"}),(0,t.jsx)("div",{className:"flex space-x-2 mt-2",children:(0,t.jsxs)(x.l6,{value:H,onValueChange:V,children:[(0,t.jsx)(x.bq,{className:"w-32",children:(0,t.jsx)(x.yv,{placeholder:"Day"})}),(0,t.jsxs)(x.gC,{children:[(0,t.jsx)(x.eb,{value:"Mon",children:"Monday"}),(0,t.jsx)(x.eb,{value:"Tue",children:"Tuesday"}),(0,t.jsx)(x.eb,{value:"Wed",children:"Wednesday"}),(0,t.jsx)(x.eb,{value:"Thu",children:"Thursday"}),(0,t.jsx)(x.eb,{value:"Fri",children:"Friday"}),(0,t.jsx)(x.eb,{value:"Sat",children:"Saturday"}),(0,t.jsx)(x.eb,{value:"Sun",children:"Sunday"})]})]})})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(h.u,{width:"100%",height:300,children:(0,t.jsxs)(w.X,{data:D.filter(e=>e.day===H),children:[(0,t.jsx)(j.d,{strokeDasharray:"3 3"}),(0,t.jsx)(f.W,{dataKey:"hour",tickFormatter:e=>"".concat(e,":00")}),(0,t.jsx)(p.h,{}),(0,t.jsx)(y.m,{formatter:(e,s)=>[e,s],labelFormatter:e=>"".concat(e,":00")}),(0,t.jsx)(N.s,{}),(0,t.jsx)(R.G,{type:"monotone",dataKey:"users",fill:"#8B4513",fillOpacity:.3,stroke:"#8B4513",strokeWidth:2,name:"Active Users"}),(0,t.jsx)(g.N,{type:"monotone",dataKey:"events",stroke:"#CD853F",strokeWidth:2,name:"Events"})]})})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-amber-900",children:"User Retention Cohorts"}),(0,t.jsx)(n.BT,{children:"User return rates by signup week"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(h.u,{width:"100%",height:300,children:(0,t.jsxs)(u.b,{data:I,children:[(0,t.jsx)(j.d,{strokeDasharray:"3 3"}),(0,t.jsx)(f.W,{dataKey:"cohort"}),(0,t.jsx)(p.h,{}),(0,t.jsx)(y.m,{formatter:e=>["".concat(e," users"),"Users"]}),(0,t.jsx)(N.s,{}),(0,t.jsx)(g.N,{type:"monotone",dataKey:"day0",stroke:"#8B4513",strokeWidth:3,name:"Day 0"}),(0,t.jsx)(g.N,{type:"monotone",dataKey:"day1",stroke:"#CD853F",strokeWidth:2,name:"Day 1"}),(0,t.jsx)(g.N,{type:"monotone",dataKey:"day7",stroke:"#DEB887",strokeWidth:2,name:"Day 7"}),(0,t.jsx)(g.N,{type:"monotone",dataKey:"day14",stroke:"#F4A460",strokeWidth:2,name:"Day 14"}),(0,t.jsx)(g.N,{type:"monotone",dataKey:"day30",stroke:"#D2691E",strokeWidth:2,name:"Day 30"})]})})})]}),(0,t.jsxs)(n.Zp,{className:"lg:col-span-2",children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-amber-900",children:"Feature Usage Trends"}),(0,t.jsx)(n.BT,{children:"How different features are being adopted over time"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(h.u,{width:"100%",height:400,children:(0,t.jsxs)(k.Q,{data:F,children:[(0,t.jsx)(j.d,{strokeDasharray:"3 3"}),(0,t.jsx)(f.W,{dataKey:"date",tickFormatter:e=>(0,A.GP)((0,P.H)(e),"MMM dd")}),(0,t.jsx)(p.h,{}),(0,t.jsx)(y.m,{labelFormatter:e=>(0,A.GP)((0,P.H)(e),"PPP"),formatter:(e,s)=>[e,s]}),(0,t.jsx)(N.s,{}),(0,t.jsx)(R.G,{type:"monotone",dataKey:"coffee_logging",stackId:"1",stroke:"#8B4513",fill:"#8B4513",fillOpacity:.8,name:"Coffee Logging"}),(0,t.jsx)(R.G,{type:"monotone",dataKey:"flavor_selection",stackId:"1",stroke:"#CD853F",fill:"#CD853F",fillOpacity:.8,name:"Flavor Selection"}),(0,t.jsx)(R.G,{type:"monotone",dataKey:"search_usage",stackId:"1",stroke:"#DEB887",fill:"#DEB887",fillOpacity:.8,name:"Search"}),(0,t.jsx)(R.G,{type:"monotone",dataKey:"photo_upload",stackId:"1",stroke:"#F4A460",fill:"#F4A460",fillOpacity:.8,name:"Photo Upload"}),(0,t.jsx)(R.G,{type:"monotone",dataKey:"social_features",stackId:"1",stroke:"#D2691E",fill:"#D2691E",fillOpacity:.8,name:"Social Features"})]})})})]})]})}),(0,t.jsx)(m,{value:"funnel",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-amber-900",children:"Coffee Tasting Funnel"}),(0,t.jsx)(n.BT,{children:"User conversion through the tasting flow"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(h.u,{width:"100%",height:400,children:(0,t.jsxs)(b.E,{data:W,layout:"horizontal",margin:{top:20,right:30,left:20,bottom:5},children:[(0,t.jsx)(j.d,{strokeDasharray:"3 3"}),(0,t.jsx)(f.W,{type:"number"}),(0,t.jsx)(p.h,{dataKey:"step",type:"category",width:120}),(0,t.jsx)(y.m,{formatter:(e,s)=>["users"===s?"".concat(e," users"):"".concat(e,"%"),"users"===s?"Users":"Retention Rate"]}),(0,t.jsx)(N.s,{}),(0,t.jsx)(_.y,{dataKey:"users",fill:"#8B4513",name:"Users"})]})})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-amber-900",children:"Conversion Rates"}),(0,t.jsx)(n.BT,{children:"Step-by-step retention analysis"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(h.u,{width:"100%",height:400,children:(0,t.jsxs)(u.b,{data:W,children:[(0,t.jsx)(j.d,{strokeDasharray:"3 3"}),(0,t.jsx)(f.W,{dataKey:"step_order"}),(0,t.jsx)(p.h,{domain:[0,100]}),(0,t.jsx)(y.m,{formatter:e=>["".concat(e,"%"),"Retention Rate"],labelFormatter:e=>"Step ".concat(e)}),(0,t.jsx)(N.s,{}),(0,t.jsx)(g.N,{type:"monotone",dataKey:"retention_rate",stroke:"#8B4513",strokeWidth:3,dot:{fill:"#8B4513",strokeWidth:2,r:6},name:"Retention Rate"})]})})})]}),(0,t.jsxs)(n.Zp,{className:"lg:col-span-2",children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-amber-900",children:"Funnel Summary"}),(0,t.jsx)(n.BT,{children:"Detailed breakdown of user journey"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:W.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-amber-200 rounded-full flex items-center justify-center text-lg font-bold text-amber-800",children:s+1}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-amber-900",children:e.step}),(0,t.jsxs)("p",{className:"text-sm text-amber-600",children:[e.retention_rate,"% retention rate"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-amber-900",children:e.users}),(0,t.jsx)("div",{className:"text-sm text-amber-600",children:"users"}),s>0&&(0,t.jsxs)("div",{className:"text-xs text-red-600",children:["-",W[s-1].users-e.users," dropped off"]})]})]},e.step))})})]})]})})]})]})}},77566:(e,s,a)=>{Promise.resolve().then(a.bind(a,67684))}},e=>{var s=s=>e(e.s=s);e.O(0,[96,358],()=>s(77566)),_N_E=e.O()}]);